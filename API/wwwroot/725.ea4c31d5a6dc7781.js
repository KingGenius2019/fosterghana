"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[725],{4592:(M,b,o)=>{o.r(b),o.d(b,{ChildFormModule:()=>N});var e=o(6895),n=o(3382),f=o(592),v=o(5861),d=o(4006),t=o(4650),C=o(8085),l=o(8996),i=o(7185),h=o(6161),p=o(3233),u=o(3546),E=o(4859),y=o(7392),T=o(3267);function A(r,_){if(1&r&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&r){const s=_.$implicit;t.Q6J("value",s.regionCode),t.xp6(1),t.Oqu(s.regionName)}}function c(r,_){1&r&&(t.TgZ(0,"div",23),t._uU(1," Please select Region "),t.qZA())}function m(r,_){if(1&r&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&r){const s=_.$implicit;t.Q6J("value",s.districtCode),t.xp6(1),t.Oqu(s.districtname)}}function P(r,_){1&r&&(t.TgZ(0,"div",23),t._uU(1," Please select District "),t.qZA())}const J=[{path:"form",component:(()=>{class r{constructor(s,a,g,Z){this.fb=s,this.formService=a,this.router=g,this.toastr=Z,this.regions=[],this.districts=[],this.addChildForm=this.fb.group({firstName:["",[d.kI.required]],surName:["",[d.kI.required]],knownAs:[""],sex:["",[d.kI.required]],district:["",[d.kI.required]],dateOfBirth:["",[d.kI.required]],dateFound:["",[d.kI.required]],placeOfBirth:["",[d.kI.required]],region:["",[d.kI.required]]})}ngOnInit(){this.loadAllRegions()}loadAllRegions(){var s=this;this.formService.getRegions().subscribe(function(){var a=(0,v.Z)(function*(g){s.regions=g});return function(g){return a.apply(this,arguments)}}())}showDistricts(s){var a=this;this.formService.getRegionLoc(s.target.value).subscribe(function(){var Z=(0,v.Z)(function*(F){a.districts=F.districts});return function(F){return Z.apply(this,arguments)}}())}Onsubmit(){this.formService.addChild(this.addChildForm.value).subscribe({next:()=>this.toastr.success("The child data added successfully"),error:s=>this.toastr.error(s.error),complete:()=>this.router.navigateByUrl("/fosterchildren/lists")})}}return r.\u0275fac=function(s){return new(s||r)(t.Y36(d.qu),t.Y36(C.y),t.Y36(l.F0),t.Y36(i._W))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-addchild-form"]],decls:65,vars:26,consts:[[1,"container-fluid"],["type","button","mat-button","",3,"click"],["autosize","",1,"example-container"],["opened","","mode","side",1,"example-sidenav"],["drawer",""],["mat-raised-button","","color","primary","routerLink","/fosterchildren/lists",1,"btnside"],[1,"example-sidenav-content"],[1,"row","m-3"],["a","","routerLink","/fosterchildren/lists","mat-fab","","color","basic","aria-label","Example icon button with a plus one icon"],[1,"myform","row","formViews",3,"formGroup"],[1,"headingText","p-3"],[1,"col-md-6","mb-3"],[3,"formControl","label"],[1,"form-floating"],["id","floatingSelect","aria-label","Floating label select example","formControlName","sex",1,"form-select"],["selected",""],["value","Male"],["value","Female"],["for","floatingSelect"],["id","floatingSelect","aria-label","Floating label select example","formControlName","region",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["id","floatingSelect","aria-label","Floating label select example","formControlName","district",1,"form-select"],[1,"invalid-feedback"],[1,"col-md-6","mb-3","mt-1"],[1,"btn","btn-info","mt-1",3,"disabled","click"],[3,"value"]],template:function(s,a){if(1&s){const g=t.EpF();t.TgZ(0,"div",0)(1,"mat-card")(2,"button",1),t.NdJ("click",function(){t.CHM(g);const F=t.MAs(8);return t.KtG(F.toggle())}),t.TgZ(3,"mat-icon"),t._uU(4,"apps"),t.qZA(),t._uU(5,"Menu "),t.qZA(),t.TgZ(6,"mat-drawer-container",2)(7,"mat-drawer",3,4)(9,"button",5)(10,"mat-icon"),t._uU(11,"record_voice_over"),t.qZA(),t._uU(12,"Lists of Children"),t.qZA()(),t.TgZ(13,"div",6)(14,"div",7)(15,"button",8)(16,"mat-icon"),t._uU(17,"people"),t.qZA()()(),t.TgZ(18,"form",9)(19,"h4",10),t._uU(20,"Register a New Child"),t.qZA(),t.TgZ(21,"div",11),t._UZ(22,"app-text-input",12),t.qZA(),t.TgZ(23,"div",11),t._UZ(24,"app-text-input",12),t.qZA(),t.TgZ(25,"div",11),t._UZ(26,"app-text-input",12),t.qZA(),t.TgZ(27,"div",11)(28,"div",13)(29,"select",14)(30,"option",15),t._uU(31,"Open to select districts"),t.qZA(),t.TgZ(32,"option",16),t._uU(33,"Male"),t.qZA(),t.TgZ(34,"option",17),t._uU(35,"Female"),t.qZA()(),t.TgZ(36,"label",18),t._uU(37,"Sex"),t.qZA()()(),t.TgZ(38,"div",11),t._UZ(39,"app-date-input",12),t.qZA(),t.TgZ(40,"div",11),t._UZ(41,"app-text-input",12),t.qZA(),t.TgZ(42,"div",11)(43,"div",13)(44,"select",19),t.NdJ("change",function(F){return a.showDistricts(F)}),t._UZ(45,"option",15),t.YNc(46,A,2,2,"option",20),t.qZA(),t.TgZ(47,"label",18),t._uU(48,"Select Region"),t.qZA(),t.YNc(49,c,2,0,"div",21),t.qZA()(),t.TgZ(50,"div",11)(51,"div",13)(52,"select",22),t._UZ(53,"option",15),t.YNc(54,m,2,2,"option",20),t.qZA(),t.TgZ(55,"label",18),t._uU(56,"Select District"),t.qZA(),t.YNc(57,P,2,0,"div",21),t.qZA(),t.TgZ(58,"div",23),t._uU(59," Please select a district. "),t.qZA()(),t.TgZ(60,"div",11),t._UZ(61,"app-date-input",12),t.qZA(),t.TgZ(62,"div",24)(63,"button",25),t.NdJ("click",function(){return a.Onsubmit()}),t._uU(64,"Submit Form"),t.qZA()()()()()()()}if(2&s){let g,Z,F,I,D,x;t.xp6(18),t.Q6J("formGroup",a.addChildForm),t.xp6(4),t.Q6J("formControl",a.addChildForm.controls.firstName)("label","First Name"),t.xp6(2),t.Q6J("formControl",a.addChildForm.controls.surName)("label","Sur Name"),t.xp6(2),t.Q6J("formControl",a.addChildForm.controls.knownAs)("label","Also Known As"),t.xp6(13),t.Q6J("formControl",a.addChildForm.controls.dateOfBirth)("label","Date Of Birth"),t.xp6(2),t.Q6J("formControl",a.addChildForm.controls.placeOfBirth)("label","Place Of Birth"),t.xp6(3),t.ekj("is-invalid",(null==(g=a.addChildForm.get("region"))?null:g.touched)&&(null==(g=a.addChildForm.get("region"))?null:g.invalid))("is-valid",(null==(Z=a.addChildForm.get("region"))?null:Z.touched)&&(null==(Z=a.addChildForm.get("region"))?null:Z.valid)),t.xp6(2),t.Q6J("ngForOf",a.regions),t.xp6(3),t.Q6J("ngIf",null==(F=a.addChildForm.get("region"))||null==F.errors?null:F.errors.required),t.xp6(3),t.ekj("is-invalid",(null==(I=a.addChildForm.get("district"))?null:I.touched)&&(null==(I=a.addChildForm.get("district"))?null:I.invalid))("is-valid",(null==(D=a.addChildForm.get("district"))?null:D.touched)&&(null==(D=a.addChildForm.get("district"))?null:D.valid)),t.xp6(2),t.Q6J("ngForOf",a.districts),t.xp6(3),t.Q6J("ngIf",null==(x=a.addChildForm.get("district"))||null==x.errors?null:x.errors.required),t.xp6(4),t.Q6J("formControl",a.addChildForm.controls.dateFound)("label","Date Found"),t.xp6(2),t.Q6J("disabled",a.addChildForm.invalid)}},dependencies:[e.sg,e.O5,d._Y,d.YN,d.Kr,d.EJ,d.JJ,d.JL,d.oH,d.sg,d.u,h.t,p.Y,u.a8,E.lW,E.cs,y.Hw,T.jA,T.kh,l.rH],styles:[".example-sidenav-content[_ngcontent-%COMP%]{align-items:center;justify-content:center}.example-sidenav[_ngcontent-%COMP%]{padding:20px}.btnside[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:5px;text-align:left}.myform[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:30px;background-color:#f8f8f8;padding:15px;margin:15px}.button[_ngcontent-%COMP%], #childapp[_ngcontent-%COMP%]{background-color:#5553b1}.headingText[_ngcontent-%COMP%]{border-bottom:solid 3px #6c6bb8}"]}),r})()},{path:"addphoto",component:o(1246).O}];let R=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[l.Bz.forChild(J),l.Bz]}),r})(),N=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[e.ez,n.m,f.q,R]}),r})()},8085:(M,b,o)=>{o.d(b,{y:()=>d});var e=o(529),n=o(9646),f=o(1261),v=o(4650);let d=(()=>{class t{constructor(l){this.http=l,this.baseUrl=f.N.apiUrl,this.childPhotos=[],this.regionLocation=[]}addChild(l){return this.http.post(this.baseUrl+"children/addchild",l)}addChildPhotos(l,i){return this.http.post(this.baseUrl+"children/"+l+"/childphotos",i)}addchildStudyReport(l,i){return this.http.post(this.baseUrl+"children/"+l+"/childstudyreport",i)}upload(l,i){const h=new FormData;h.append("file",i);const p=new e.aW("POST",NaN+l+"/childphotos",h,{reportProgress:!0,responseType:"json"});return this.http.request(p)}getRegions(){return this.http.get(this.baseUrl+"location/regions")}getDistricts(){return this.http.get(this.baseUrl+"location/districts")}getRegionLoc(l){const i=this.regionLocation.find(h=>h.regionCode===l);return void 0!==i?(0,n.of)(i):this.http.get(this.baseUrl+"location/"+l)}}return t.\u0275fac=function(l){return new(l||t)(v.LFG(e.eN))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},1246:(M,b,o)=>{o.d(b,{O:()=>y});var e=o(4006),n=o(4650),f=o(8085),v=o(8996),d=o(7185),t=o(6895),C=o(3546),l=o(4859),i=o(7392),h=o(9549),p=o(4144),u=o(3162);function E(T,A){if(1&T&&n._UZ(0,"mat-progress-bar",8),2&T){const c=n.oxw();n.Q6J("value",c.uploadProgress)}}let y=(()=>{class T{constructor(c,m,P,O){this.uploadService=c,this.activatedRoute=m,this.fb=P,this.toastr=O,this.selectedFile=null,this.uploadProgress=0,this.buildUploadForm=this.fb.group({childId:"",fileName:["",[e.kI.required]]})}ngOnInit(){this.gettheChild()}gettheChild(){const m=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.childiId=m}onFileSelected(c){const m=c.target;m.files&&m.files.length>0&&(this.selectedFile=m.files[0])}uploadFile(){if(this.selectedFile){const c=new FormData;c.append("file",this.selectedFile,this.selectedFile.name),c.append("fileName",this.selectedFile.name),c.append("childId",this.childiId),this.uploadService.addChildPhotos(this.childiId,c).subscribe({next:()=>this.toastr.success("Child upload successful"),error:m=>this.toastr.error("Problem uploading the file")})}}}return T.\u0275fac=function(c){return new(c||T)(n.Y36(f.y),n.Y36(v.gz),n.Y36(e.qu),n.Y36(d._W))},T.\u0275cmp=n.Xpm({type:T,selectors:[["app-upload-child-photos"]],inputs:{requiredFileType:"requiredFileType"},decls:13,vars:3,consts:[[3,"formGroup"],["type","file",2,"display","none",3,"change"],["fileInput",""],["appearance","outline"],["matInput","","placeholder","Select a file","readonly","",3,"value"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mode","determinate",3,"value",4,"ngIf"],["mode","determinate",3,"value"]],template:function(c,m){if(1&c){const P=n.EpF();n.TgZ(0,"mat-card")(1,"div")(2,"form",0)(3,"input",1,2),n.NdJ("change",function(U){return m.onFileSelected(U)}),n.qZA(),n.TgZ(5,"mat-form-field",3),n._UZ(6,"input",4),n.TgZ(7,"button",5),n.NdJ("click",function(){n.CHM(P);const U=n.MAs(4);return n.KtG(U.click())}),n.TgZ(8,"mat-icon"),n._uU(9,"folder_open"),n.qZA()()(),n.TgZ(10,"button",6),n.NdJ("click",function(){return m.uploadFile()}),n._uU(11,"Upload"),n.qZA()()(),n.YNc(12,E,1,1,"mat-progress-bar",7),n.qZA()}2&c&&(n.xp6(2),n.Q6J("formGroup",m.buildUploadForm),n.xp6(4),n.Q6J("value",null==m.selectedFile?null:m.selectedFile.name),n.xp6(6),n.Q6J("ngIf",null!==m.uploadProgress))},dependencies:[t.O5,e._Y,e.JL,e.sg,C.a8,l.lW,l.RK,i.Hw,h.KE,h.R9,p.Nt,u.pW],styles:[".progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:auto;height:auto}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:#aaa solid 1px;border-radius:4px;margin-bottom:10px}.file-input[_ngcontent-%COMP%]{display:none}"]}),T})()},3233:(M,b,o)=>{o.d(b,{Y:()=>d});var e=o(4650),n=o(4006),f=o(6895);function v(t,C){if(1&t&&(e.TgZ(0,"div",4),e._uU(1),e.qZA()),2&t){const l=e.oxw();e.xp6(1),e.hij("Please ",l.label," is required")}}let d=(()=>{class t{constructor(l){this.controlDir=l,this.type="date",this.label="",this.controlDir.valueAccessor=this}writeValue(l){}registerOnChange(l){}registerOnTouched(l){}get control(){return this.controlDir.control}}return t.\u0275fac=function(l){return new(l||t)(e.Y36(n.a5,2))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-date-input"]],inputs:{type:"type",label:"label"},decls:5,vars:6,consts:[[1,"form-floating","mb-3"],[1,"form-control",3,"type","formControl","placeholder","ngClass"],["for","floatingInput"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(l,i){1&l&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"label",2),e._uU(3),e.qZA(),e.YNc(4,v,2,1,"div",3),e.qZA()),2&l&&(e.xp6(1),e.s9C("type",i.type),e.s9C("placeholder",i.label),e.Q6J("formControl",i.control)("ngClass",i.control.touched?i.control.invalid?"is-invalid":"is-valid":null),e.xp6(2),e.Oqu(i.label),e.xp6(1),e.Q6J("ngIf",null==i.control.errors?null:i.control.errors.required))},dependencies:[f.mk,f.O5,n.Fj,n.JJ,n.oH]}),t})()},6161:(M,b,o)=>{o.d(b,{t:()=>l});var e=o(4650),n=o(4006),f=o(6895);function v(i,h){if(1&i&&(e.TgZ(0,"div",4),e._uU(1),e.qZA()),2&i){const p=e.oxw();e.xp6(1),e.hij("Please ",p.label," is required")}}function d(i,h){1&i&&(e.TgZ(0,"div",4),e._uU(1,"Please email is invalid"),e.qZA())}function t(i,h){1&i&&(e.TgZ(0,"div",4),e._uU(1,"Password should be Complex"),e.qZA())}function C(i,h){1&i&&(e.TgZ(0,"div",4),e._uU(1,"Please email already in use"),e.qZA())}let l=(()=>{class i{constructor(p){this.controlDir=p,this.type="text",this.label="",this.controlDir.valueAccessor=this}writeValue(p){}registerOnChange(p){}registerOnTouched(p){}get control(){return this.controlDir.control}}return i.\u0275fac=function(p){return new(p||i)(e.Y36(n.a5,2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-text-input"]],inputs:{type:"type",label:"label"},decls:8,vars:9,consts:[[1,"form-floating","mb-3"],[1,"form-control",3,"type","formControl","placeholder","ngClass"],["for","floatingInput"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(p,u){1&p&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"label",2),e._uU(3),e.qZA(),e.YNc(4,v,2,1,"div",3),e.YNc(5,d,2,0,"div",3),e.YNc(6,t,2,0,"div",3),e.YNc(7,C,2,0,"div",3),e.qZA()),2&p&&(e.xp6(1),e.s9C("type",u.type),e.s9C("placeholder",u.label),e.Q6J("formControl",u.control)("ngClass",u.control.touched?u.control.invalid?"is-invalid":"is-valid":null),e.xp6(2),e.Oqu(u.label),e.xp6(1),e.Q6J("ngIf",null==u.control.errors?null:u.control.errors.required),e.xp6(1),e.Q6J("ngIf",null==u.control.errors?null:u.control.errors.email),e.xp6(1),e.Q6J("ngIf",null==u.control.errors?null:u.control.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==u.control.errors?null:u.control.errors.emailExists))},dependencies:[f.mk,f.O5,n.Fj,n.JJ,n.oH]}),i})()}}]);